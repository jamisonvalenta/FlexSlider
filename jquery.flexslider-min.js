/*
 * jQuery FlexSlider v2.1
 * Copyright 2012 WooThemes
 * Contributing Author: Tyler Smith
 */
<<<<<<< HEAD
;(function(a){a.flexslider=function(d,n){var b=a(d),l=a.extend({},a.flexslider.defaults,n),g=l.namespace,i=("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,c=(i)?"touchend":"click",h=l.direction==="vertical",j=l.reverse,m=(l.itemWidth>0),f=l.animation==="fade",k=l.asNavFor!=="",e={};a.data(d,"flexslider",b);e={init:function(){b.animating=false;b.currentSlide=l.startAt;b.animatingTo=b.currentSlide;b.atEnd=(b.currentSlide===0||b.currentSlide===b.last);b.containerSelector=l.selector.substr(0,l.selector.search(" "));b.slides=a(l.selector,b);b.container=a(b.containerSelector,b);b.count=b.slides.length;b.syncExists=a(l.sync).length>0;if(l.animation==="slide"){l.animation="swing"}b.prop=(h)?"top":"marginLeft";b.args={};b.manualPause=false;b.transitions=!l.video&&!f&&l.useCSS&&(function(){var q=document.createElement("div"),p=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var o in p){if(q.style[p[o]]!==undefined){b.pfx=p[o].replace("Perspective","").toLowerCase();b.prop="-"+b.pfx+"-transform";return true}}return false}());if(l.controlsContainer!==""){b.controlsContainer=a(l.controlsContainer).length>0&&a(l.controlsContainer)}if(l.manualControls!==""){b.manualControls=a(l.manualControls).length>0&&a(l.manualControls)}if(l.randomize){b.slides.sort(function(){return(Math.round(Math.random())-0.5)});b.container.empty().append(b.slides)}b.doMath();if(k){e.asNav.setup()}b.setup("init");if(l.controlNav){e.controlNav.setup()}if(l.directionNav){e.directionNav.setup()}if(l.keyboard&&(a(b.containerSelector).length===1||l.multipleKeyboard)){a(document).bind("keyup",function(p){var o=p.keyCode;if(!b.animating&&(o===39||o===37)){var q=(o===39)?b.getTarget("next"):(o===37)?b.getTarget("prev"):false;b.flexAnimate(q,l.pauseOnAction)}})}if(l.mousewheel){b.bind("mousewheel",function(q,s,p,o){q.preventDefault();var r=(s<0)?b.getTarget("next"):b.getTarget("prev");b.flexAnimate(r,l.pauseOnAction)})}if(l.pausePlay){e.pausePlay.setup()}if(l.slideshow){if(l.pauseOnHover){b.hover(function(){b.pause()},function(){if(!b.manualPause){b.play()}})}(l.initDelay>0)?setTimeout(b.play,l.initDelay):b.play()}if(i&&l.touch){e.touch()}if(!f||(f&&l.smoothHeight)){a(window).bind("resize focus",e.resize)}setTimeout(function(){l.start(b)},200)},asNav:{setup:function(){b.asNav=true;b.animatingTo=Math.floor(b.currentSlide/b.move);b.currentItem=b.currentSlide;b.slides.removeClass(g+"active-slide").eq(b.currentItem).addClass(g+"active-slide");b.slides.click(function(q){q.preventDefault();var p=a(this),o=p.index();if(!a(l.asNavFor).data("flexslider").animating&&!p.hasClass("active")){b.direction=(b.currentItem<o)?"next":"prev";b.flexAnimate(o,l.pauseOnAction,false,true,true)}})}},controlNav:{setup:function(){if(!b.manualControls){e.controlNav.setupPaging()}else{e.controlNav.setupManual()}},setupPaging:function(){var q=(l.controlNav==="thumbnails")?"control-thumbs":"control-paging",o=1,r;b.controlNavScaffold=a('<ol class="'+g+"control-nav "+g+q+'"></ol>');if(b.pagingCount>1){for(var p=0;p<b.pagingCount;p++){r=(l.controlNav==="thumbnails")?'<img src="'+b.slides.eq(p).attr("data-thumb")+'"/>':"<a>"+o+"</a>";b.controlNavScaffold.append("<li>"+r+"</li>");o++}}(b.controlsContainer)?a(b.controlsContainer).append(b.controlNavScaffold):b.append(b.controlNavScaffold);e.controlNav.set();e.controlNav.active();b.controlNavScaffold.delegate("a, img",c,function(s){s.preventDefault();var u=a(this),t=b.controlNav.index(u);if(!u.hasClass(g+"active")){b.direction=(t>b.currentSlide)?"next":"prev";b.flexAnimate(t,l.pauseOnAction)}});if(i){b.controlNavScaffold.delegate("a","click touchstart",function(s){s.preventDefault()})}},setupManual:function(){b.controlNav=b.manualControls;e.controlNav.active();b.controlNav.live(c,function(o){o.preventDefault();var q=a(this),p=b.controlNav.index(q);if(!q.hasClass(g+"active")){(p>b.currentSlide)?b.direction="next":b.direction="prev";b.flexAnimate(p,l.pauseOnAction)}});if(i){b.controlNav.live("click touchstart",function(o){o.preventDefault()})}},set:function(){var o=(l.controlNav==="thumbnails")?"img":"a";b.controlNav=a("."+g+"control-nav li "+o,(b.controlsContainer)?b.controlsContainer:b)},active:function(){b.controlNav.removeClass(g+"active").eq(b.animatingTo).addClass(g+"active")},update:function(o,p){if(b.pagingCount>1&&o==="add"){b.controlNavScaffold.append(a("<li><a>"+b.count+"</a></li>"))}else{if(b.pagingCount===1){b.controlNavScaffold.find("li").remove()}else{b.controlNav.eq(p).closest("li").remove()}}e.controlNav.set();(b.pagingCount>1&&b.pagingCount!==b.controlNav.length)?b.update(p,o):e.controlNav.active()}},directionNav:{setup:function(){var o=a('<ul class="'+g+'direction-nav"><li><a class="'+g+'prev" href="#">'+l.prevText+'</a></li><li><a class="'+g+'next" href="#">'+l.nextText+"</a></li></ul>");if(b.controlsContainer){a(b.controlsContainer).append(o);b.directionNav=a("."+g+"direction-nav li a",b.controlsContainer)}else{b.append(o);b.directionNav=a("."+g+"direction-nav li a",b)}e.directionNav.update();b.directionNav.bind(c,function(p){p.preventDefault();var q=(a(this).hasClass(g+"next"))?b.getTarget("next"):b.getTarget("prev");b.flexAnimate(q,l.pauseOnAction)});if(i){b.directionNav.bind("click touchstart",function(p){p.preventDefault()})}},update:function(){var o=g+"disabled";if(b.pagingCount===1){b.directionNav.addClass(o)}else{if(!l.animationLoop){if(b.animatingTo===0){b.directionNav.removeClass(o).filter("."+g+"prev").addClass(o)}else{if(b.animatingTo===b.last){b.directionNav.removeClass(o).filter("."+g+"next").addClass(o)}else{b.directionNav.removeClass(o)}}}else{b.directionNav.removeClass(o)}}}},pausePlay:{setup:function(){var o=a('<div class="'+g+'pauseplay"><a></a></div>');if(b.controlsContainer){b.controlsContainer.append(o);b.pausePlay=a("."+g+"pauseplay a",b.controlsContainer)}else{b.append(o);b.pausePlay=a("."+g+"pauseplay a",b)}e.pausePlay.update((l.slideshow)?g+"pause":g+"play");b.pausePlay.bind(c,function(p){p.preventDefault();if(a(this).hasClass(g+"pause")){b.pause();b.manualPause=true}else{b.play();b.manualPause=false}});if(i){b.pausePlay.bind("click touchstart",function(p){p.preventDefault()})}},update:function(o){(o==="play")?b.pausePlay.removeClass(g+"pause").addClass(g+"play").text(l.playText):b.pausePlay.removeClass(g+"play").addClass(g+"pause").text(l.pauseText)}},touch:function(){var t,r,p,u,x,v,s=false;d.addEventListener("touchstart",q,false);function q(y){if(b.animating){y.preventDefault()}else{if(y.touches.length===1){b.pause();u=(h)?b.h:b.w;v=Number(new Date());p=(m&&j&&b.animatingTo===b.last)?0:(m&&j)?b.limit-(((b.itemW+l.itemMargin)*b.move)*b.animatingTo):(m&&b.currentSlide===b.last)?b.limit:(m)?((b.itemW+l.itemMargin)*b.move)*b.currentSlide:(j)?(b.last-b.currentSlide+b.cloneOffset)*u:(b.currentSlide+b.cloneOffset)*u;t=(h)?y.touches[0].pageY:y.touches[0].pageX;r=(h)?y.touches[0].pageX:y.touches[0].pageY;d.addEventListener("touchmove",o,false);d.addEventListener("touchend",w,false)}}}function o(y){x=(h)?t-y.touches[0].pageY:t-y.touches[0].pageX;s=(h)?(Math.abs(x)<Math.abs(y.touches[0].pageX-r)):(Math.abs(x)<Math.abs(y.touches[0].pageY-r));if(!s||Number(new Date())-v>500){y.preventDefault();if(!f&&b.transitions){if(!l.animationLoop){x=x/((b.currentSlide===0&&x<0||b.currentSlide===b.last&&x>0)?(Math.abs(x)/u+2):1)}b.setProps(p+x,"setTouch")}}}function w(A){if(b.animatingTo===b.currentSlide&&!s&&!(x===null)){var z=(j)?-x:x,y=(z>0)?b.getTarget("next"):b.getTarget("prev");if(b.canAdvance(y)&&(Number(new Date())-v<550&&Math.abs(z)>20||Math.abs(z)>u/2)){b.flexAnimate(y,l.pauseOnAction)}else{b.flexAnimate(b.currentSlide,l.pauseOnAction,true)}}d.removeEventListener("touchmove",o,false);d.removeEventListener("touchend",w,false);t=null;r=null;x=null;p=null}},resize:function(){if(!b.animating&&b.is(":visible")){if(!m){b.doMath()}if(f){e.smoothHeight()}else{if(m){b.slides.width(b.computedW);b.update(b.pagingCount);b.setProps()}else{if(h){b.viewport.height(b.h);b.setProps(b.h,"setTotal")}else{if(l.smoothHeight){e.smoothHeight()}b.newSlides.width(b.computedW);b.setProps(b.computedW,"setTotal")}}}}},smoothHeight:function(o){if(!h||f){var p=(f)?b:b.viewport;(o)?p.animate({height:b.slides.eq(b.animatingTo).height()},o):p.height(b.slides.eq(b.animatingTo).height())}},sync:function(o){var q=a(l.sync).data("flexslider"),p=b.animatingTo;switch(o){case"animate":q.flexAnimate(p,l.pauseOnAction,false,true);break;case"play":if(!q.playing&&!q.asNav){q.play()}break;case"pause":q.pause();break}}};b.flexAnimate=function(w,x,q,s,t){if(!b.animating&&(b.canAdvance(w)||q)&&b.is(":visible")){if(k&&s){var p=a(l.asNavFor).data("flexslider");b.atEnd=w===0||w===b.count-1;p.flexAnimate(w,true,false,true,t);b.direction=(b.currentItem<w)?"next":"prev";p.direction=b.direction;if(Math.ceil((w+1)/b.visible)-1!==b.currentSlide&&w!==0){b.currentItem=w;b.slides.removeClass(g+"active-slide").eq(w).addClass(g+"active-slide");w=Math.floor(w/b.visible)}else{b.currentItem=w;b.slides.removeClass(g+"active-slide").eq(w).addClass(g+"active-slide");return false}}b.animating=true;b.animatingTo=w;l.before(b);if(x){b.pause()}if(b.syncExists&&!t){e.sync("animate")}if(l.controlNav){e.controlNav.active()}if(!m){b.slides.removeClass(g+"active-slide").eq(w).addClass(g+"active-slide")}b.atEnd=w===0||w===b.last;if(l.directionNav){e.directionNav.update()}if(w===b.last){l.end(b);if(!l.animationLoop){b.pause()}}if(!f){var v=(h)?b.slides.filter(":first").height():b.computedW,u,r,o;if(m){u=(l.itemWidth>b.w)?l.itemMargin*2:l.itemMargin;o=((b.itemW+u)*b.move)*b.animatingTo;r=(o>b.limit&&b.visible!==1)?b.limit:o}else{if(b.currentSlide===0&&w===b.count-1&&l.animationLoop&&b.direction!=="next"){r=(j)?(b.count+b.cloneOffset)*v:0}else{if(b.currentSlide===b.last&&w===0&&l.animationLoop&&b.direction!=="prev"){r=(j)?0:(b.count+1)*v}else{r=(j)?((b.count-1)-w+b.cloneOffset)*v:(w+b.cloneOffset)*v}}}b.setProps(r,"",l.animationSpeed);if(b.transitions){if(!l.animationLoop||!b.atEnd){b.animating=false;b.currentSlide=b.animatingTo}b.container.unbind("webkitTransitionEnd transitionend");b.container.bind("webkitTransitionEnd transitionend",function(){b.wrapup(v)})}else{b.container.animate(b.args,l.animationSpeed,l.easing,function(){b.wrapup(v)})}}else{if(l.crossFade){b.slides.eq(b.currentSlide).fadeOut(l.animationSpeed,l.easing);b.slides.eq(w).fadeIn(l.animationSpeed,l.easing,b.wrapup)}else{b.slides.eq(b.currentSlide).fadeOut(l.animationSpeed,l.easing,function(){b.slides.eq(w).fadeIn(l.animationSpeed,l.easing,b.wrapup)})}}if(l.smoothHeight){e.smoothHeight(l.animationSpeed)}}};b.wrapup=function(o){if(!f&&!m){if(b.currentSlide===0&&b.animatingTo===b.last&&l.animationLoop){b.setProps(o,"jumpEnd")}else{if(b.currentSlide===b.last&&b.animatingTo===0&&l.animationLoop){b.setProps(o,"jumpStart")}}}b.animating=false;b.currentSlide=b.animatingTo;l.after(b)};b.animateSlides=function(){if(!b.animating){b.flexAnimate(b.getTarget("next"))}};b.pause=function(){clearInterval(b.animatedSlides);b.playing=false;if(l.pausePlay){e.pausePlay.update("play")}if(b.syncExists){e.sync("pause")}};b.play=function(){b.animatedSlides=setInterval(b.animateSlides,l.slideshowSpeed);b.playing=true;if(l.pausePlay){e.pausePlay.update("pause")}if(b.syncExists){e.sync("play")}};b.canAdvance=function(p){var o=(k)?b.pagingCount-1:b.last;return(k&&b.currentItem===0&&p===b.pagingCount-1&&b.direction!=="next")?false:(p===b.currentSlide&&!k)?false:(l.animationLoop)?true:(b.atEnd&&b.currentSlide===0&&p===o&&b.direction!=="next")?false:(b.atEnd&&b.currentSlide===o&&p===0&&b.direction==="next")?false:true};b.getTarget=function(o){b.direction=o;if(o==="next"){return(b.currentSlide===b.last)?0:b.currentSlide+1}else{return(b.currentSlide===0)?b.last:b.currentSlide-1}};b.setProps=function(r,o,p){var q=(function(){var s=(r)?r:((b.itemW+l.itemMargin)*b.move)*b.animatingTo,t=(function(){if(m){return(o==="setTouch")?r:(j&&b.animatingTo===b.last)?0:(j)?b.limit-(((b.itemW+l.itemMargin)*b.move)*b.animatingTo):(b.animatingTo===b.last)?b.limit:s}else{switch(o){case"setTotal":return(j)?((b.count-1)-b.currentSlide+b.cloneOffset)*r:(b.currentSlide+b.cloneOffset)*r;case"setTouch":return(j)?r:r;case"jumpEnd":return(j)?r:b.count*r;case"jumpStart":return(j)?b.count*r:r;default:return r}}}());return(t*-1)+"px"}());if(b.transitions){q=(h)?"translate3d(0,"+q+",0)":"translate3d("+q+",0,0)";p=(p!==undefined)?(p/1000)+"s":"0s";b.container.css("-"+b.pfx+"-transition-duration",p)}b.args[b.prop]=q;if(b.transitions||p===undefined){b.container.css(b.args)}};b.setup=function(p){if(!f){var q,o;if(p==="init"){b.viewport=a('<div class="'+g+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(b).append(b.container);b.cloneCount=0;b.cloneOffset=0;if(j){o=a.makeArray(b.slides).reverse();b.slides=a(o);b.container.empty().append(b.slides)}}if(l.animationLoop&&!m){b.cloneCount=2;b.cloneOffset=1;if(p!=="init"){b.container.find(".clone").remove()}b.container.append(b.slides.first().clone().addClass("clone")).prepend(b.slides.last().clone().addClass("clone"))}b.newSlides=a(l.selector,b);q=(j)?b.count-1-b.currentSlide+b.cloneOffset:b.currentSlide+b.cloneOffset;if(h&&!m){b.container.height((b.count+b.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){b.newSlides.css({display:"block"});b.doMath();b.viewport.height(b.h);b.setProps(q*b.h,"init")},(p==="init")?100:0)}else{b.container.width((b.count+b.cloneCount)*200+"%");b.setProps(q*b.computedW,"init");setTimeout(function(){b.doMath();b.newSlides.css({width:b.computedW,"float":"left",display:"block"});if(l.smoothHeight){e.smoothHeight()}},(p==="init")?100:0)}}else{b.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"});if(p==="init"){b.slides.eq(b.currentSlide).fadeIn(l.animationSpeed,l.easing)}if(l.smoothHeight){e.smoothHeight()}}if(!m){b.slides.removeClass(g+"active-slide").eq(b.currentSlide).addClass(g+"active-slide")}};b.doMath=function(){var o=b.slides.first(),r=l.itemMargin,p=l.minItems,q=l.maxItems;b.w=b.width();b.h=o.height();b.boxPadding=o.outerWidth()-o.width();if(m){b.itemT=l.itemWidth+r;b.minW=(p)?p*b.itemT:b.w;b.maxW=(q)?q*b.itemT:b.w;b.itemW=(b.minW>b.w)?(b.w-(r*p))/p:(b.maxW<b.w)?(b.w-(r*q))/q:(l.itemWidth>b.w)?b.w:l.itemWidth;b.visible=Math.floor(b.w/(b.itemW+r));b.move=(l.move>0&&l.move<b.visible)?l.move:b.visible;b.pagingCount=Math.ceil(((b.count-b.visible)/b.move)+1);b.last=b.pagingCount-1;b.limit=(b.pagingCount===1)?0:(l.itemWidth>b.w)?((b.itemW+(r*2))*b.count)-b.w-r:((b.itemW+r)*b.count)-b.w-r}else{b.itemW=b.w;b.pagingCount=b.count;b.last=b.count-1}b.computedW=b.itemW-b.boxPadding};b.update=function(p,o){b.doMath();if(!m){if(p<b.currentSlide){b.currentSlide+=1}else{if(p<=b.currentSlide&&p!==0){b.currentSlide-=1}}b.animatingTo=b.currentSlide}if(l.controlNav&&!b.manualControls){if((o==="add"&&!m)||b.pagingCount>b.controlNav.length){e.controlNav.update("add")}else{if((o==="remove"&&!m)||b.pagingCount<b.controlNav.length){if(m&&b.currentSlide>b.last){b.currentSlide-=1;b.animatingTo-=1}e.controlNav.update("remove",b.last)}}}if(l.directionNav){e.directionNav.update()}};b.addSlide=function(o,q){var p=a(o);b.count+=1;b.last=b.count-1;if(h&&j){(q!==undefined)?b.slides.eq(b.count-q).after(p):b.container.prepend(p)}else{(q!==undefined)?b.slides.eq(q).before(p):b.container.append(p)}b.update(q,"add");b.slides=a(l.selector+":not(.clone)",b);b.setup();l.added(b)};b.removeSlide=function(o){var p=(isNaN(o))?b.slides.index(a(o)):o;b.count-=1;b.last=b.count-1;if(isNaN(o)){a(o,b.slides).remove()}else{(h&&j)?b.slides.eq(b.last).remove():b.slides.eq(o).remove()}b.doMath();b.update(p,"remove");b.slides=a(l.selector+":not(.clone)",b);b.setup();l.removed(b)};e.init()};a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",crossFade:true,easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7000,animationSpeed:600,initDelay:0,randomize:false,pauseOnAction:true,pauseOnHover:false,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};a.fn.flexslider=function(b){if(b===undefined){b={}}if(typeof b==="object"){return this.each(function(){var f=a(this),d=(b.selector)?b.selector:".slides > li",e=f.find(d);if(e.length===1){e.fadeIn(400);if(b.start){b.start(f)}}else{if(f.data("flexslider")===undefined){new a.flexslider(this,b)}}})}else{var c=a(this).data("flexslider");switch(b){case"play":c.play();break;case"pause":c.pause();break;case"next":c.flexAnimate(c.getTarget("next"),true);break;case"prev":case"previous":c.flexAnimate(c.getTarget("prev"),true);break;default:if(typeof b==="number"){c.flexAnimate(b,true)}}}}})(jQuery);
=======
;(function(d){d.flexslider=function(i,k){var a=d(i),c=d.extend({},d.flexslider.defaults,k),e=c.namespace,p="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,t=p?"touchend":"click",l="vertical"===c.direction,m=c.reverse,h=0<c.itemWidth,r="fade"===c.animation,s=""!==c.asNavFor,f={};d.data(i,"flexslider",a);f={init:function(){a.animating=!1;a.currentSlide=c.startAt;a.animatingTo=a.currentSlide;a.atEnd=0===a.currentSlide||a.currentSlide===a.last;a.containerSelector=c.selector.substr(0,
 c.selector.search(" "));a.slides=d(c.selector,a);a.container=d(a.containerSelector,a);a.count=a.slides.length;a.syncExists=0<d(c.sync).length;"slide"===c.animation&&(c.animation="swing");a.prop=l?"top":"marginLeft";a.args={};a.manualPause=!1;var b=a,g;if(g=!c.video)if(g=!r)if(g=c.useCSS)a:{g=document.createElement("div");var n=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],e;for(e in n)if(void 0!==g.style[n[e]]){a.pfx=n[e].replace("Perspective","").toLowerCase();
 a.prop="-"+a.pfx+"-transform";g=!0;break a}g=!1}b.transitions=g;""!==c.controlsContainer&&(a.controlsContainer=0<d(c.controlsContainer).length&&d(c.controlsContainer));""!==c.manualControls&&(a.manualControls=0<d(c.manualControls).length&&d(c.manualControls));c.randomize&&(a.slides.sort(function(){return Math.round(Math.random())-0.5}),a.container.empty().append(a.slides));a.doMath();s&&f.asNav.setup();a.setup("init");c.controlNav&&f.controlNav.setup();c.directionNav&&f.directionNav.setup();c.keyboard&&
 (1===d(a.containerSelector).length||c.multipleKeyboard)&&d(document).bind("keyup",function(b){b=b.keyCode;if(!a.animating&&(39===b||37===b))b=39===b?a.getTarget("next"):37===b?a.getTarget("prev"):!1,a.flexAnimate(b,c.pauseOnAction)});c.mousewheel&&a.bind("mousewheel",function(b,g){b.preventDefault();var d=0>g?a.getTarget("next"):a.getTarget("prev");a.flexAnimate(d,c.pauseOnAction)});c.pausePlay&&f.pausePlay.setup();c.slideshow&&(c.pauseOnHover&&a.hover(function(){!a.manualPlay&&!a.manualPause&&a.pause()},
 function(){!a.manualPause&&!a.manualPlay&&a.play()}),0<c.initDelay?setTimeout(a.play,c.initDelay):a.play());p&&c.touch&&f.touch();(!r||r&&c.smoothHeight)&&d(window).bind("resize focus",f.resize);setTimeout(function(){c.start(a)},200)},asNav:{setup:function(){a.asNav=!0;a.animatingTo=Math.floor(a.currentSlide/a.move);a.currentItem=a.currentSlide;a.slides.removeClass(e+"active-slide").eq(a.currentItem).addClass(e+"active-slide");a.slides.click(function(b){b.preventDefault();var b=d(this),g=b.index();
 !d(c.asNavFor).data("flexslider").animating&&!b.hasClass("active")&&(a.direction=a.currentItem<g?"next":"prev",a.flexAnimate(g,c.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){a.manualControls?f.controlNav.setupManual():f.controlNav.setupPaging()},setupPaging:function(){var b=1,g;a.controlNavScaffold=d('<ol class="'+e+"control-nav "+e+("thumbnails"===c.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<a.pagingCount)for(var n=0;n<a.pagingCount;n++)g="thumbnails"===c.controlNav?
 '<img src="'+a.slides.eq(n).attr("data-thumb")+'"/>':"<a>"+b+"</a>",a.controlNavScaffold.append("<li>"+g+"</li>"),b++;a.controlsContainer?d(a.controlsContainer).append(a.controlNavScaffold):a.append(a.controlNavScaffold);f.controlNav.set();f.controlNav.active();a.controlNavScaffold.delegate("a, img",t,function(b){b.preventDefault();var b=d(this),g=a.controlNav.index(b);b.hasClass(e+"active")||(a.direction=g>a.currentSlide?"next":"prev",a.flexAnimate(g,c.pauseOnAction))});p&&a.controlNavScaffold.delegate("a",
 "click touchstart",function(a){a.preventDefault()})},setupManual:function(){a.controlNav=a.manualControls;f.controlNav.active();a.controlNav.live(t,function(b){b.preventDefault();var b=d(this),g=a.controlNav.index(b);b.hasClass(e+"active")||(g>a.currentSlide?a.direction="next":a.direction="prev",a.flexAnimate(g,c.pauseOnAction))});p&&a.controlNav.live("click touchstart",function(a){a.preventDefault()})},set:function(){a.controlNav=d("."+e+"control-nav li "+("thumbnails"===c.controlNav?"img":"a"),
 a.controlsContainer?a.controlsContainer:a)},active:function(){a.controlNav.removeClass(e+"active").eq(a.animatingTo).addClass(e+"active")},update:function(b,c){1<a.pagingCount&&"add"===b?a.controlNavScaffold.append(d("<li><a>"+a.count+"</a></li>")):1===a.pagingCount?a.controlNavScaffold.find("li").remove():a.controlNav.eq(c).closest("li").remove();f.controlNav.set();1<a.pagingCount&&a.pagingCount!==a.controlNav.length?a.update(c,b):f.controlNav.active()}},directionNav:{setup:function(){var b=d('<ul class="'+
 e+'direction-nav"><li><a class="'+e+'prev" href="#">'+c.prevText+'</a></li><li><a class="'+e+'next" href="#">'+c.nextText+"</a></li></ul>");a.controlsContainer?(d(a.controlsContainer).append(b),a.directionNav=d("."+e+"direction-nav li a",a.controlsContainer)):(a.append(b),a.directionNav=d("."+e+"direction-nav li a",a));f.directionNav.update();a.directionNav.bind(t,function(b){b.preventDefault();b=d(this).hasClass(e+"next")?a.getTarget("next"):a.getTarget("prev");a.flexAnimate(b,c.pauseOnAction)});
 p&&a.directionNav.bind("click touchstart",function(a){a.preventDefault()})},update:function(){var b=e+"disabled";1===a.pagingCount?a.directionNav.addClass(b):c.animationLoop?a.directionNav.removeClass(b):0===a.animatingTo?a.directionNav.removeClass(b).filter("."+e+"prev").addClass(b):a.animatingTo===a.last?a.directionNav.removeClass(b).filter("."+e+"next").addClass(b):a.directionNav.removeClass(b)}},pausePlay:{setup:function(){var b=d('<div class="'+e+'pauseplay"><a></a></div>');a.controlsContainer?
 (a.controlsContainer.append(b),a.pausePlay=d("."+e+"pauseplay a",a.controlsContainer)):(a.append(b),a.pausePlay=d("."+e+"pauseplay a",a));f.pausePlay.update(c.slideshow?e+"pause":e+"play");a.pausePlay.bind(t,function(b){b.preventDefault();d(this).hasClass(e+"pause")?(a.manualPause=!0,a.manualPlay=!1,a.pause()):(a.manualPause=!1,a.manualPlay=!0,a.play())});p&&a.pausePlay.bind("click touchstart",function(a){a.preventDefault()})},update:function(b){"play"===b?a.pausePlay.removeClass(e+"pause").addClass(e+
 "play").text(c.playText):a.pausePlay.removeClass(e+"play").addClass(e+"pause").text(c.pauseText)}},touch:function(){function b(b){j=l?d-b.touches[0].pageY:d-b.touches[0].pageX;p=l?Math.abs(j)<Math.abs(b.touches[0].pageX-e):Math.abs(j)<Math.abs(b.touches[0].pageY-e);if(!p||500<Number(new Date)-k)b.preventDefault(),!r&&a.transitions&&(c.animationLoop||(j/=0===a.currentSlide&&0>j||a.currentSlide===a.last&&0<j?Math.abs(j)/q+2:1),a.setProps(f+j,"setTouch"))}function g(){i.removeEventListener("touchmove",
 b,!1);if(a.animatingTo===a.currentSlide&&!p&&null!==j){var h=m?-j:j,l=0<h?a.getTarget("next"):a.getTarget("prev");a.canAdvance(l)&&(550>Number(new Date)-k&&50<Math.abs(h)||Math.abs(h)>q/2)?a.flexAnimate(l,c.pauseOnAction):r||a.flexAnimate(a.currentSlide,c.pauseOnAction,!0)}i.removeEventListener("touchend",g,!1);f=j=e=d=null}var d,e,f,q,j,k,p=!1;i.addEventListener("touchstart",function(j){a.animating?j.preventDefault():1===j.touches.length&&(a.pause(),q=l?a.h:a.w,k=Number(new Date),f=h&&m&&a.animatingTo===
 a.last?0:h&&m?a.limit-(a.itemW+c.itemMargin)*a.move*a.animatingTo:h&&a.currentSlide===a.last?a.limit:h?(a.itemW+c.itemMargin)*a.move*a.currentSlide:m?(a.last-a.currentSlide+a.cloneOffset)*q:(a.currentSlide+a.cloneOffset)*q,d=l?j.touches[0].pageY:j.touches[0].pageX,e=l?j.touches[0].pageX:j.touches[0].pageY,i.addEventListener("touchmove",b,!1),i.addEventListener("touchend",g,!1))},!1)},resize:function(){!a.animating&&a.is(":visible")&&(h||a.doMath(),r?f.smoothHeight():h?(a.slides.width(a.computedW),
 a.update(a.pagingCount),a.setProps()):l?(a.viewport.height(a.h),a.setProps(a.h,"setTotal")):(c.smoothHeight&&f.smoothHeight(),a.newSlides.width(a.computedW),a.setProps(a.computedW,"setTotal")))},smoothHeight:function(b){if(!l||r){var c=r?a:a.viewport;b?c.animate({height:a.slides.eq(a.animatingTo).height()},b):c.height(a.slides.eq(a.animatingTo).height())}},sync:function(b){var g=d(c.sync).data("flexslider"),e=a.animatingTo;switch(b){case "animate":g.flexAnimate(e,c.pauseOnAction,!1,!0);break;case "play":!g.playing&&
 !g.asNav&&g.play();break;case "pause":g.pause()}}};a.flexAnimate=function(b,g,n,i,k){s&&1===a.pagingCount&&(a.direction=a.currentItem<b?"next":"prev");if(!a.animating&&(a.canAdvance(b,k)||n)&&a.is(":visible")){if(s&&i)if(n=d(c.asNavFor).data("flexslider"),a.atEnd=0===b||b===a.count-1,n.flexAnimate(b,!0,!1,!0,k),a.direction=a.currentItem<b?"next":"prev",n.direction=a.direction,Math.ceil((b+1)/a.visible)-1!==a.currentSlide&&0!==b)a.currentItem=b,a.slides.removeClass(e+"active-slide").eq(b).addClass(e+
 "active-slide"),b=Math.floor(b/a.visible);else return a.currentItem=b,a.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide"),!1;a.animating=!0;a.animatingTo=b;c.before(a);g&&a.pause();a.syncExists&&!k&&f.sync("animate");c.controlNav&&f.controlNav.active();h||a.slides.removeClass(e+"active-slide").eq(b).addClass(e+"active-slide");a.atEnd=0===b||b===a.last;c.directionNav&&f.directionNav.update();b===a.last&&(c.end(a),c.animationLoop||a.pause());if(r)p?(a.slides.eq(a.currentSlide).css({opacity:0}),
 a.slides.eq(b).css({opacity:1}),a.animating=!1,a.currentSlide=a.animatingTo):(a.slides.eq(a.currentSlide).fadeOut(c.animationSpeed,c.easing),a.slides.eq(b).fadeIn(c.animationSpeed,c.easing,a.wrapup));else{var q=l?a.slides.filter(":first").height():a.computedW;h?(b=c.itemWidth>a.w?2*c.itemMargin:c.itemMargin,b=(a.itemW+b)*a.move*a.animatingTo,b=b>a.limit&&1!==a.visible?a.limit:b):b=0===a.currentSlide&&b===a.count-1&&c.animationLoop&&"next"!==a.direction?m?(a.count+a.cloneOffset)*q:0:a.currentSlide===
 a.last&&0===b&&c.animationLoop&&"prev"!==a.direction?m?0:(a.count+1)*q:m?(a.count-1-b+a.cloneOffset)*q:(b+a.cloneOffset)*q;a.setProps(b,"",c.animationSpeed);if(a.transitions){if(!c.animationLoop||!a.atEnd)a.animating=!1,a.currentSlide=a.animatingTo;a.container.unbind("webkitTransitionEnd transitionend");a.container.bind("webkitTransitionEnd transitionend",function(){a.wrapup(q)})}else a.container.animate(a.args,c.animationSpeed,c.easing,function(){a.wrapup(q)})}c.smoothHeight&&f.smoothHeight(c.animationSpeed)}};
 a.wrapup=function(b){!r&&!h&&(0===a.currentSlide&&a.animatingTo===a.last&&c.animationLoop?a.setProps(b,"jumpEnd"):a.currentSlide===a.last&&(0===a.animatingTo&&c.animationLoop)&&a.setProps(b,"jumpStart"));a.animating=!1;a.currentSlide=a.animatingTo;c.after(a)};a.animateSlides=function(){a.animating||a.flexAnimate(a.getTarget("next"))};a.pause=function(){clearInterval(a.animatedSlides);a.playing=!1;c.pausePlay&&f.pausePlay.update("play");a.syncExists&&f.sync("pause")};a.play=function(){a.animatedSlides=
 setInterval(a.animateSlides,c.slideshowSpeed);a.playing=!0;c.pausePlay&&f.pausePlay.update("pause");a.syncExists&&f.sync("play")};a.canAdvance=function(b,g){var d=s?a.pagingCount-1:a.last;return g?!0:s&&a.currentItem===a.count-1&&0===b&&"prev"===a.direction?!0:s&&0===a.currentItem&&b===a.pagingCount-1&&"next"!==a.direction?!1:b===a.currentSlide&&!s?!1:c.animationLoop?!0:a.atEnd&&0===a.currentSlide&&b===d&&"next"!==a.direction?!1:a.atEnd&&a.currentSlide===d&&0===b&&"next"===a.direction?!1:!0};a.getTarget=
 function(b){a.direction=b;return"next"===b?a.currentSlide===a.last?0:a.currentSlide+1:0===a.currentSlide?a.last:a.currentSlide-1};a.setProps=function(b,g,d){var e,f=b?b:(a.itemW+c.itemMargin)*a.move*a.animatingTo;e=-1*function(){if(h)return"setTouch"===g?b:m&&a.animatingTo===a.last?0:m?a.limit-(a.itemW+c.itemMargin)*a.move*a.animatingTo:a.animatingTo===a.last?a.limit:f;switch(g){case "setTotal":return m?(a.count-1-a.currentSlide+a.cloneOffset)*b:(a.currentSlide+a.cloneOffset)*b;case "setTouch":return b;
 case "jumpEnd":return m?b:a.count*b;case "jumpStart":return m?a.count*b:b;default:return b}}()+"px";a.transitions&&(e=l?"translate3d(0,"+e+",0)":"translate3d("+e+",0,0)",d=void 0!==d?d/1E3+"s":"0s",a.container.css("-"+a.pfx+"-transition-duration",d));a.args[a.prop]=e;(a.transitions||void 0===d)&&a.container.css(a.args)};a.setup=function(b){if(r)a.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===b&&(p?a.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+
 c.animationSpeed/1E3+"s ease"}).eq(a.currentSlide).css({opacity:1}):a.slides.eq(a.currentSlide).fadeIn(c.animationSpeed,c.easing)),c.smoothHeight&&f.smoothHeight();else{var g,n;"init"===b&&(a.viewport=d('<div class="'+e+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(a).append(a.container),a.cloneCount=0,a.cloneOffset=0,m&&(n=d.makeArray(a.slides).reverse(),a.slides=d(n),a.container.empty().append(a.slides)));c.animationLoop&&!h&&(a.cloneCount=2,a.cloneOffset=1,"init"!==
 b&&a.container.find(".clone").remove(),a.container.append(a.slides.first().clone().addClass("clone")).prepend(a.slides.last().clone().addClass("clone")));a.newSlides=d(c.selector,a);g=m?a.count-1-a.currentSlide+a.cloneOffset:a.currentSlide+a.cloneOffset;l&&!h?(a.container.height(200*(a.count+a.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){a.newSlides.css({display:"block"});a.doMath();a.viewport.height(a.h);a.setProps(g*a.h,"init")},"init"===b?100:0)):(a.container.width(200*
 (a.count+a.cloneCount)+"%"),a.setProps(g*a.computedW,"init"),setTimeout(function(){a.doMath();a.newSlides.css({width:a.computedW,"float":"left",display:"block"});c.smoothHeight&&f.smoothHeight()},"init"===b?100:0))}h||a.slides.removeClass(e+"active-slide").eq(a.currentSlide).addClass(e+"active-slide")};a.doMath=function(){var b=a.slides.first(),d=c.itemMargin,e=c.minItems,f=c.maxItems;a.w=a.width();a.h=b.height();a.boxPadding=b.outerWidth()-b.width();h?(a.itemT=c.itemWidth+d,a.minW=e?e*a.itemT:a.w,
 a.maxW=f?f*a.itemT:a.w,a.itemW=a.minW>a.w?(a.w-d*e)/e:a.maxW<a.w?(a.w-d*f)/f:c.itemWidth>a.w?a.w:c.itemWidth,a.visible=Math.floor(a.w/(a.itemW+d)),a.move=0<c.move&&c.move<a.visible?c.move:a.visible,a.pagingCount=Math.ceil((a.count-a.visible)/a.move+1),a.last=a.pagingCount-1,a.limit=1===a.pagingCount?0:c.itemWidth>a.w?(a.itemW+2*d)*a.count-a.w-d:(a.itemW+d)*a.count-a.w-d):(a.itemW=a.w,a.pagingCount=a.count,a.last=a.count-1);a.computedW=a.itemW-a.boxPadding};a.update=function(b,d){a.doMath();h||(b<
 a.currentSlide?a.currentSlide+=1:b<=a.currentSlide&&0!==b&&(a.currentSlide-=1),a.animatingTo=a.currentSlide);if(c.controlNav&&!a.manualControls)if("add"===d&&!h||a.pagingCount>a.controlNav.length)f.controlNav.update("add");else if("remove"===d&&!h||a.pagingCount<a.controlNav.length)h&&a.currentSlide>a.last&&(a.currentSlide-=1,a.animatingTo-=1),f.controlNav.update("remove",a.last);c.directionNav&&f.directionNav.update()};a.addSlide=function(b,e){var f=d(b);a.count+=1;a.last=a.count-1;l&&m?void 0!==
 e?a.slides.eq(a.count-e).after(f):a.container.prepend(f):void 0!==e?a.slides.eq(e).before(f):a.container.append(f);a.update(e,"add");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.added(a)};a.removeSlide=function(b){var e=isNaN(b)?a.slides.index(d(b)):b;a.count-=1;a.last=a.count-1;isNaN(b)?d(b,a.slides).remove():l&&m?a.slides.eq(a.last).remove():a.slides.eq(b).remove();a.doMath();a.update(e,"remove");a.slides=d(c.selector+":not(.clone)",a);a.setup();c.removed(a)};f.init()};d.flexslider.defaults=
 {namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",
 itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};d.fn.flexslider=function(i){void 0===i&&(i={});if("object"===typeof i)return this.each(function(){var a=d(this),c=a.find(i.selector?i.selector:".slides > li");1===c.length?(c.fadeIn(400),i.start&&i.start(a)):void 0===a.data("flexslider")&&new d.flexslider(this,i)});var k=d(this).data("flexslider");switch(i){case "play":k.play();break;
 case "pause":k.pause();break;case "next":k.flexAnimate(k.getTarget("next"),!0);break;case "prev":case "previous":k.flexAnimate(k.getTarget("prev"),!0);break;default:"number"===typeof i&&k.flexAnimate(i,!0)}}})(jQuery);
>>>>>>> upstream/master
